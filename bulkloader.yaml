# Autogenerated bulkloader.yaml file.

# If you have module(s) with your model classes, add them here. Also
# change the kind properties to model_class.
python_preamble:
- import: base64
- import: re
- import: google.appengine.ext.bulkload.transform
- import: google.appengine.ext.bulkload.bulkloader_wizard
- import: google.appengine.ext.db
- import: google.appengine.api.datastore
- import: google.appengine.api.users
- import: app.models
transformers:

- kind: SQUser
  connector: csv
  connector_options:
    columns: from_header
  property_map:
    - property: __key__
      external_name: ID
      export_transform: transform.key_id_or_name_as_string

    - property: oauth_secret
      external_name: oauth_secret
      # Type: String Stats: 3 properties of this type in this kind.

    - property: oauth_token
      external_name: oauth_token
      # Type: String Stats: 3 properties of this type in this kind.

    - property: real_name
      external_name: real_name
      # Type: String Stats: 3 properties of this type in this kind.

    - property: user_name
      external_name: user_name
      # Type: String Stats: 3 properties of this type in this kind.


- kind: Tweet
  connector: csv
  connector_options:
    columns: from_header
  property_map:
    - property: __key__
      external_name: ID
      export_transform: transform.key_id_or_name_as_string

    - property: author_profile_image_url
      external_name: author_profile_image_url
      # Type: String Stats: 6 properties of this type in this kind.

    - property: author_real_name
      external_name: author_real_name
      # Type: String Stats: 6 properties of this type in this kind.

    - property: author_user_name
      external_name: author_user_name
      # Type: String Stats: 6 properties of this type in this kind.

    - property: id
      external_name: tweet_id
      # Type: String Stats: 6 properties of this type in this kind.

    - property: text
      external_name: text
      # Type: String Stats: 6 properties of this type in this kind.


- kind: Vote
  connector: csv
  connector_options:
    columns: from_header
  property_map:
    - property: __key__
      external_name: ID
      export_transform: transform.key_id_or_name_as_string

    - property: count
      external_name: count
      # Type: Integer Stats: 6 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)

    - property: tweet
      external_name: tweet
      # Type: Key Stats: 6 properties of this type in this kind.
      import_transform: transform.create_foreign_key('Tweet')
      export_transform: transform.key_id_or_name_as_string

    - property: voter
      external_name: voter
      # Type: Key Stats: 6 properties of this type in this kind.
      import_transform: transform.create_foreign_key('SQUser')
      export_transform: transform.key_id_or_name_as_string


- kind: _AppEngineUtilities_SessionData
  connector: csv
  connector_options:
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: content
      external_name: content
      # Type: Blob Stats: 1 properties of this type in this kind.
      import_transform: transform.blobproperty_from_base64
      export_transform: base64.b64encode

    - property: deleted
      external_name: deleted
      # Type: Boolean Stats: 1 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: dirty
      external_name: dirty
      # Type: Boolean Stats: 1 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: keyname
      external_name: keyname
      # Type: String Stats: 1 properties of this type in this kind.

    - property: session
      external_name: session
      # Type: Key Stats: 1 properties of this type in this kind.
      import_transform: transform.create_foreign_key('_AppEngineUtilities_Session')
      export_transform: transform.key_id_or_name_as_string


- kind: _AppEngineUtilities_Session
  connector: csv
  connector_options:
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: deleted
      external_name: deleted
      # Type: Boolean Stats: 2 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: dirty
      external_name: dirty
      # Type: Boolean Stats: 2 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: ip
      external_name: ip
      # Type: String Stats: 2 properties of this type in this kind.

    - property: last_activity
      external_name: last_activity
      # Type: Date/Time Stats: 2 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: sid
      external_name: sid
      # Type: String Stats: 3 properties of this type in this kind.

    - property: ua
      external_name: ua
      # Type: String Stats: 2 properties of this type in this kind.

    - property: working
      external_name: working
      # Type: Boolean Stats: 2 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)


- kind: AuthToken
  connector: csv
  connector_options:
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: created
      external_name: created
      # Type: Date/Time Stats: 66 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y-%m-%dT%H:%M:%S')
      export_transform: transform.export_date_time('%Y-%m-%dT%H:%M:%S')

    - property: secret
      external_name: secret
      # Type: String Stats: 66 properties of this type in this kind.

    - property: service
      external_name: service
      # Type: String Stats: 66 properties of this type in this kind.

    - property: token
      external_name: token
      # Type: String Stats: 66 properties of this type in this kind.
